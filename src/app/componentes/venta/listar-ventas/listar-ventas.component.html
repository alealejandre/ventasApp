
<div class="d-flex justify-content-center">
    <h3>Listar Ventas</h3>
  </div>
 <div class="d-flex flex-row-reverse">
    <button
      class="btn btn-warning ml-3"
      (click)="abrirModalAgregar(modalAgregar)"
    >
      Agregar Venta
    </button>
  </div>


  <div class="container-fluid">
    <div class="tableContent">
      <table class="table table-striped table-hover">
        <thead>
          <th>Id</th>          
          <!--<th>usuario</th>-->
          <th>Productos</th>
          <th>fecha</th>
          <th>total $</th>          
          <th>
            <i class="fa fa-picture-o"></i>
          </th>
        </thead>
<!--venta_id
    usuario_id
    detalles
    fecha_registro
    total
  -->
        <tbody>
          <tr *ngFor="let venta of lista_ventas">
            <td>{{ venta.venta_id }}</td>
            <!--<td>{{ venta.usuario_id }}</td>-->
           <td>
              
                <!--{{ venta.detalles }}-->
                <tr *ngFor="let producto of venta.detalles">
                    <!--<td>{{ producto.producto_id }}</td>-->
                    <td>{{ producto.nombre }}</td>
                    <td>{{ producto.descripcion }}</td>
                    <td>{{ producto.precio }}</td>
                    <!--<td>{{ producto.imagen }}</td>-->
                    
                <td>
                <button
                  type="button"
                  class="btn btn-secondary"
                  (click)="abrirModalImagen(modalImagen, producto.imagen)"
                >
                  <i class="fa fa-picture-o"></i>
                </button>
              </td>
                    <td>

                </tr>
            
            </td>       
           
            <td>
                {{ venta.fecha_registro}}
                </td>
            <td>{{ venta.total }}</td>
           
           
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  
  
  <ng-template #modalImagen let-c="close" let-d="dismiss">
    <div class="modal-header d-flex align-items-center">
      <span class="h5 m-0"><i class="fa fa-filter mr-1"></i>Modal de Imagen</span>
      <button class="close d-flex text-dark m-0 p-0" (click)="d('Cross click')">
        Cerrar modal
      </button>
    </div>
  
    <div class="modal-body">
      <img [src]="imagenSeleccionada" />
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-secondary btn-lg"
        (click)="c('Close')"
      >
        Cerrar
      </button>
    </div>
  </ng-template>
  
  <ng-template #modalAgregar let-c="close" let-d="dismiss">
    <div class="modal-header d-flex align-items-center">
      <span class="h5 m-0"
        ><i class="fa fa-filter mr-1"></i>Modal Registrar Venta</span
      >
      <button class="close d-flex text-dark m-0 p-0" (click)="d('Cross click')">
        Cerrar modal
      </button>
    </div>
  
    <div class="modal-body">
      <app-agregar-ventas></app-agregar-ventas>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-secondary btn-lg"
        (click)="c('Close')"
      >
        Cerrar
      </button>
    </div>
  </ng-template>
  